(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},13:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__1LEDw",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__2Xjb0"}},14:function(e,t,a){e.exports={wrapper:"Button_wrapper__1pHwk",button:"Button_button__3QF_k"}},25:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__20iVM"}},27:function(e,t,a){e.exports={wrapperLoader:"Loader_wrapperLoader__14unL"}},32:function(e,t,a){},7:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__jo466",searchForm:"Searchbar_searchForm__23jwf",searchFormButton:"Searchbar_searchFormButton__MrnjN",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__w1n27",searchFormInput:"Searchbar_searchFormInput__tpesZ"}},74:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(5),o=a.n(n),s=(a(32),a(15)),i=a(4),l=a(24),u=a.n(l),j="key=22365966-aff4cd8f16c1939d45ba5b542",m="https://pixabay.com/api/?",b="&image_type=photo&orientation=horizontal&per_page=12",d=a(6),h=(a(52),a(7)),g=a.n(h),O=a(1);var p=function(e){var t=e.onSubmit,a=Object(r.useState)(""),c=Object(i.a)(a,2),n=c[0],o=c[1];return Object(O.jsx)("header",{className:g.a.searchbar,children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==n.trim()?(t(n),o("")):d.b.warn("\ud83e\udd84 enter your request!",{position:"top-center",autoClose:3e3,theme:"colored",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,rtl:!1})},className:g.a.searchForm,children:[Object(O.jsx)("button",{type:"submit",className:g.a.searchFormButton,children:Object(O.jsx)("span",{className:g.a.searchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{className:g.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:n,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},f=a(12),_=a.n(f),x=document.querySelector("#modal-root"),v=function(e){var t=e.onClose,a=e.alt,c=e.src;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(n.createPortal)(Object(O.jsx)("div",{className:_.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(O.jsx)("div",{className:_.a.modal,children:Object(O.jsx)("img",{src:c,alt:a})})}),x)},w=a(13),y=a.n(w),I=function(e){var t=e.id,a=e.src,c=e.alt,n=e.largeImageURL,o=Object(r.useState)(!1),s=Object(i.a)(o,2),l=s[0],u=s[1],j=function(){u(!l)};return Object(O.jsxs)("li",{className:y.a.imageGalleryItem,children:[Object(O.jsx)("img",{onClick:j,src:a,alt:c,className:y.a.imageGalleryItemImage}),l&&Object(O.jsx)(v,{onClose:j,src:n,alt:c})]},t)},S=a(25),L=a.n(S);var F=function(e){var t=e.images;return Object(O.jsx)("ul",{className:L.a.imageGallery,children:t.map((function(e){return Object(O.jsx)(I,{src:e.webformatURL,alt:e.tags,largeImageURL:e.largeImageURL},e.id)}))})},k=a.p+"static/media/232.38a2ceeb.jpg";function N(e){e.message;return Object(O.jsx)("div",{role:"alert",children:Object(O.jsx)("img",{src:k,width:"240",alt:"error"})})}var G=a(14),C=a.n(G),B=function(e){var t=e.OnClick;return Object(O.jsx)("div",{className:C.a.wrapper,children:Object(O.jsx)("button",{className:C.a.button,onClick:t,type:"button",children:"Load More"})})},E=a(26),M=a.n(E),T=a(27),R=a.n(T),U=function(){return Object(O.jsx)("div",{className:R.a.wrapperLoader,children:Object(O.jsx)(M.a,{type:"BallTriangle",color:"rgb(155, 236, 34)",height:100,width:100,timeout:5e3})})},q="idle",H="pending",P="resolved",D="rejected";var J=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),o=Object(i.a)(n,2),l=o[0],h=o[1],g=Object(r.useState)(1),f=Object(i.a)(g,2),_=f[0],x=f[1],v=Object(r.useState)(!1),w=Object(i.a)(v,2),y=w[0],I=w[1],S=Object(r.useState)(null),L=Object(i.a)(S,2),k=L[0],G=L[1],C=Object(r.useState)(q),E=Object(i.a)(C,2),M=E[0],T=E[1];Object(r.useEffect)((function(){a&&R()}),[a]);var R=function(){I(!0),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";return u.a.get(m+"q=".concat(e,"&page=").concat(t,"&")+j+b)}(a,_).then((function(e){var t=e.data;if(0===t.hits.length)return console.log(t),T(q),void d.b.error("No result were found for your search");h([].concat(Object(s.a)(l),Object(s.a)(t.hits))),x((function(e){return e+1})),T(P)})).catch((function(e){G({error:e}),T(D)})).finally((function(){T(P),I(!1)}))},J=function(e){c(e),x(1),h([])};return M===q?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p,{onSubmit:J}),Object(O.jsx)(d.a,{})]}):M===H?Object(O.jsx)(U,{}):M===D?Object(O.jsx)(N,{message:k}):M===P?Object(O.jsxs)(r.Fragment,{children:[Object(O.jsx)(p,{onSubmit:J}),Object(O.jsx)(d.a,{}),Object(O.jsx)(F,{images:l,isLoading:y}),l.length>12&&void window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),l.length>0&&Object(O.jsx)(B,{OnClick:R})]}):void 0};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(J,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.6498db5a.chunk.js.map